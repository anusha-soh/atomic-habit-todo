@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Paper Colors */
  --notebook-paper: #FDF6E3;
  --notebook-paper-alt: #FAF0D7;
  --notebook-paper-white: #FFFEF9;
  --notebook-line: #E8DCC8;

  /* Ink Colors */
  --notebook-ink: #2C2416;
  --notebook-ink-medium: #5C4F3A;
  --notebook-ink-light: #8B775A;
  --notebook-ink-red: #C23B22;
  --notebook-ink-blue: #2B5EA7;
  --notebook-ink-green: #3D7A4A;

  /* Highlight Colors */
  --notebook-highlight-yellow: #FFF3BF;
  --notebook-highlight-pink: #FFE0E6;
  --notebook-highlight-mint: #D4EDDA;

  /* Shadows */
  --notebook-shadow: rgba(139, 119, 90, 0.15);
  --notebook-shadow-sm: 0 1px 3px rgba(139, 119, 90, 0.15);
  --notebook-shadow-md: 0 4px 8px rgba(139, 119, 90, 0.15);
  --notebook-shadow-lg: 0 8px 16px rgba(139, 119, 90, 0.15);
  --notebook-shadow-hover: 0 8px 20px rgba(139, 119, 90, 0.25);

  /* Legacy compat */
  --background: var(--notebook-paper);
  --foreground: var(--notebook-ink);
}

body {
  background: var(--notebook-paper);
  color: var(--notebook-ink);
}

@layer utilities {
  /* Touch target utility for mobile accessibility (44Ã—44px minimum) */
  .touch-target {
    @apply min-h-[44px] min-w-[44px];
  }
}

/* === Animations === */
@media (prefers-reduced-motion: no-preference) {
  @keyframes draw-checkmark {
    from { stroke-dashoffset: 24; }
    to   { stroke-dashoffset: 0; }
  }

  @keyframes highlight-flash {
    0%   { background-color: var(--notebook-highlight-mint); }
    100% { background-color: transparent; }
  }

  @keyframes fade-in-up {
    from {
      opacity: 0;
      transform: translateY(12px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes scale-in {
    from { transform: scale(0); }
    to   { transform: scale(1); }
  }

  @keyframes bounce-once {
    0%, 100% { transform: scale(1); }
    50% { transform: scale(1.3); }
  }

  .animate-draw-checkmark {
    animation: draw-checkmark 0.3s ease-out forwards;
  }

  .animate-highlight-flash {
    animation: highlight-flash 0.5s ease-out forwards;
  }

  .animate-fade-in-up {
    animation: fade-in-up 0.4s ease-out forwards;
    opacity: 0;
  }

  .animate-scale-in {
    animation: scale-in 0.2s ease-out forwards;
  }

  .animate-bounce-once {
    animation: bounce-once 0.3s ease-out;
  }
}

/* Reduced motion: instant state, no animation */
@media (prefers-reduced-motion: reduce) {
  .animate-draw-checkmark,
  .animate-highlight-flash,
  .animate-fade-in-up,
  .animate-scale-in,
  .animate-bounce-once {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}
