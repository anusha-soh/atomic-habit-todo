# Pytest Configuration
# Phase 2 Chunk 2 - Tasks Full Feature Set

[pytest]
# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*
pythonpath = .

# Test paths
testpaths = tests

# Markers for organizing tests
markers =
    unit: Unit tests (business logic, models, services)
    integration: Integration tests (API endpoints, database)
    contract: Contract tests (OpenAPI schema validation)
    security: Security tests (SQL injection, XSS, authorization)
    US1: User Story 1 - Create and View Tasks
    US2: User Story 2 - Update and Complete Tasks
    US3: User Story 3 - Delete Tasks
    US4: User Story 4 - Prioritize Tasks
    US5: User Story 5 - Due Dates
    US6: User Story 6 - Tags
    US7: User Story 7 - Search
    US8: User Story 8 - Filter by Status/Priority
    US9: User Story 9 - Sort Tasks
    slow: Slow running tests

# Coverage settings
[coverage:run]
source = src
omit =
    */tests/*
    */conftest.py
    */__init__.py
    */alembic/*

[coverage:report]
# Fail if coverage below 80%
fail_under = 80
precision = 2
show_missing = True
skip_covered = False

# Exclude lines from coverage
exclude_lines =
    pragma: no cover
    def __repr__
    raise AssertionError
    raise NotImplementedError
    if __name__ == .__main__.:
    if TYPE_CHECKING:
    @abstractmethod

# Output options
[tool:pytest]
addopts =
    --verbose
    --strict-markers
    --tb=short
    --cov=src
    --cov-report=term-missing
    --cov-report=html:coverage_html
    --cov-report=json:coverage.json
    -p no:warnings

# Asyncio settings
asyncio_mode = auto
